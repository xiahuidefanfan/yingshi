(function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=8)})([function(e,t){if(window.__WPO&&window.__WPO.config&&!window.__WPO.config.spmId)window.console&&console.error("[Invalid __WPO.config], spmId is required");else{var n=window.__WPO&&window.__WPO.config&&window.__WPO.config.sample;"number"!=typeof n?window.__WPO.config.sample=1:(1!==n&&window.console&&console.error("[Unexpected __WPO.config.sample setter "+n+"],dingRetcodeLog will force setting sample=1 to enable retcode full-logging"),window.__WPO.config.sample=1)}},function(e,t,n){"use strict";var o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},r=n(10),i=r;i.setConfig({sample:1});var a=i.setConfig;i.setConfig=function(e){a.call(i,e),void 0!==e.sample&&1!==e.sample&&(a.call(i,{sample:1}),window.console&&console.error("[Unexpected __WPO.config.sample setter "+e.sample+"],dingRetcodeLog will force setting sample=1 to enable retcode full-logging"))};var c=!1;i.setDebugMode=function(e){(c=!!e.debug)&&window.console&&console.info("[LOG DEBUG MODE]: print dingRetcodeLog in console without sending request")};var s={},d=i.send;i.setLogBaseSendValuePairs=function(e){s=i.extend(s,e||{}),i.send?i.send=function(e){if(e){var t=i.extend({},e,s);!1===c?d.call(i,t):window.console&&console.log("[LOG dingRetcodeLog param]:",t)}}:window.console&&console.error("[Internal WPO Error]: wpo.send method is not found")},i.setLogBaseSendValuePairs({}),i.logJsLoadError=function(e){e||(e={});var t={type:"biz_js_load_error",msg:"Uncaught Error: main js load error : fileName"+(e.fileName||"")+"errMsg"+(e.errMsg||""),fileName:e.fileName||"",errMsg:e.errMsg||""};i.send(t)},i.logQueryPart=function(e){var t=o({type:"log"},e);i.send(t)};var u=!1;i.logPageMount=function(){if(!1===u){u=!0;var e={type:"page_usable"},t=(o={},o[1e3]="load_1",o[3e3]="load_3",o[5e3]="load_5",o[1e4]="load_10",o);try{var n=performance.now();e.time=n,e.timeType=n<1e3?t[1e3]:n<3e3?t[3e3]:n<5e3?t[5e3]:n<1e4?t[1e4]:"load_timeLargerThan10",i.send(e)}catch(t){e.timeType="load_timeApiNotSupport",i.send(e)}}var o},e.exports=i},function(e,t){e.exports=function(e,t){for(var n,o=[],r=["custom","error","performance","retCode","speed","log"],i=0;n=r[i++];)e[n]=function(e){return function(){o.push({type:e,params:Array.prototype.slice.call(arguments)})}}(n);e.reloaded=function(){e.ready();for(var t=0,n=o.length;t<n;t++)e[o[t].type].apply(e,o[t].params)},e.reloadFailed=function(){"function"==typeof t&&t()}}},function(e,t){e.exports=function(e,t){var n=e.startTime||e.config.startTime,o=n;if(!n)try{n=window.performance.timing.responseStart||+new Date,o=+new Date}catch(e){o=n=+new Date}var r=function(t,n){n=n||e.config.sample,e.sampling(n,"retcode"==t.type)==(e.config.modVal||1)&&(t.sampling=n,e.send(t))};e.custom=function(e,n,o){var i={type:"custom"};e=["time","count"][e]||e,"time"!=e&&"count"!=e||(i.category=e),i.type&&(i.key=n,i.value="time"==e?o:t,r(i))};var i=function(e,t){if(!e)return!0;if(!t)return!1;try{var n=Object.prototype.toString.call(t).substring(8).replace("]","");if("Function"===n)return!!t(e);if("RegExp"===n)return t.test(e);if("String"===n)return e.indexOf(t)>=0}catch(e){"object"==typeof window&&window.console&&console.error("retcode log errMsgFitler error",e)}return!1};e.error=function(t,n,o,a,c,s){var d={type:"jserror"};if(1===arguments.length&&(n=t,t=void 0),n){if(d.category=t||"sys","object"==typeof n&&n.message){var u=n;try{n=u.message,o=o||u.filename,a=a||u.lineno,c=c||u.colno}catch(e){}}else if("object"==typeof n)try{n=JSON.stringify(n)}catch(e){}try{n=n?n.substring(0,1e3):""}catch(e){n=""}if(s=s?s.substring(0,1e3):"",d.msg=n,e.config&&e.config.errMsgFilter&&i(n,e.config.errMsgFilter))return;o&&(d.file=o),a&&(d.line=a),c&&(d.col=c),s&&(d.stack=s),r(d,1)}},e.performance=function(t){var n={type:"per"};r(e.extend(n,t))},e.retCode=function(t,o,i,a,c){var s={type:"retcode",sampling:this.config.retCode[t]};if("object"==typeof t){try{t.msg=t.msg?t.msg.substring(0,1e3):""}catch(e){t.msg=""}s.sampling=t.api?this.config.retCode[t.api]:1,s.api=t.api,s.issucess=t.issuccess,s.delay="number"==typeof t.delay?parseInt(t.delay,10):new Date-n,s.msg=t.msg||(t.issuccess?"success":"fail"),s.detail=t.detail||"",s.traceId=t.traceId||"",s=e.extend(t,s),delete s.issuccess}else{try{c=c?c.substring(0,1e3):""}catch(e){c=""}s=e.extend({api:t,issucess:o,delay:"number"==typeof i?parseInt(i,10):new Date-n,msg:a||(o?"success":"fail"),detail:c||""},s)}void 0!==s.delay&&void 0!==s.issucess&&r(s,s.issucess?s.sampling:1)};var a=function(){for(var t,n={type:"speed"},o=0,i=e.speed.points.length;o<i;o++)(t=e.speed.points[o])&&(n["s"+o]=t,e.speed.points[o]=null);r(n)};e.speed=function(t,r,i){var c;"string"==typeof t&&(t=parseInt(t.slice(1),10)),"number"==typeof t&&(c=e.speed.points||new Array(11),c[t]="number"==typeof r?r>864e5?r-n:r:new Date-n,c[t]<0&&(c[t]=new Date-o),e.speed.points=c),clearTimeout(e.speed.timer),i?a():e.speed.timer=setTimeout(a,3e3)},e.log=function(e,t){r({type:"log",msg:e},t)}}},function(e,t){e.exports=function(e,t,n){var o={spm:e.getSpmId()},r=t.onerror;({init:function(){this.lockPerformanceSpm(),this.sendPerformance(),this.bind(),/wpodebug\=1/.test(location.search)&&(e.config.sample=1,e.config.modVal=1,e.debug=!0)},bind:function(){e.on(t,"beforeunload",function(){e.clear(),e.speed.points&&e.speed(null,null,!0)},!0),t.onerror=function(t,n,o,i,a){r&&r(t,n,o,i,a);var c=a&&a.stack;n?e.error("sys",t,n,o,i,c):e.error(t)}},analyzeTiming:function(){var e={rrt:["responseStart","requestStart"],dns:["domainLookupEnd","domainLookupStart"],cnt:["connectEnd","connectStart"],ntw:["responseStart","fetchStart"],dct:["domContentLoadedEventStart","fetchStart"],flt:["loadEventStart","fetchStart"]};try{var n=performance.timing;for(var r in e){var i=n[e[r][1]],a=n[e[r][0]];if(i&&a){var c=a-i;c>=0&&c<864e5&&(o[r]=c)}}var s=t.navigator,d=s.connection;o.ct=d?d.effectiveType||d.type:""}catch(e){}return o},lockPerformanceSpm:function(){if(!o.spm){var e=function(){var e=n&&n.getSpmId&&n.getSpmId();e&&(o.spm=e)},t=function(){"complete"===document.readyState?e():document.addEventListener?(document.removeEventListener("DOMContentLoaded",t,!1),e()):"complete"===document.readyState&&(document.detachEvent("onreadystatechange",t),e())};document.addEventListener?document.addEventListener("DOMContentLoaded",t,!1):document.attachEvent&&document.attachEvent("onreadystatechange",t)}},sendPerformance:function(){var n=this;"complete"===document.readyState?e.performance(n.analyzeTiming()):e.on(t,"load",function(){e.performance(n.analyzeTiming())},!0)}}).init()}},function(e,t){e.exports=function(e,t,n){var o,r,i={},a=0,c={imgUrl:"//retcode.taobao.com/r.png?",sample:10,modVal:1,dynamic:!1,retCode:{},delayOfReady:null},s=function(e,t,n){if("function"!=typeof e)return n;try{return e.apply(this,t)}catch(e){return n}},d=n.sendRequest,u=function(){var t,n;if(e.asyncQueue&&e.asyncQueue.length>0)for(var i,u=e.asyncQueue;i=u.shift();){var f=i.method;"function"==typeof e[f]&&e[f].apply(e,i.args||[])}for(;(t=l.dequeue())&&(n=l.extend({uid:o,userNick:e.getNick(),times:t.times?t.times:1,_t:~new Date+(a++).toString(),tag:e.config.tag&&s(e.config.tag,[],e.config.tag+"")||""},t),n.spm||(n.spm=e.getSpmId()),n.spm);)e.debug&&"object"==typeof window&&window.console&&console.log(n),d.call(e,c.imgUrl+l.query.stringify(n));r=null},f=function(e){e&&r&&(clearTimeout(r),u()),r||(r=setTimeout(u,1e3))},l={_key:"wpokey",ver:"<%= pkg.version %>",requestQueue:e.requestQueue||[],getCookie:function(e){var t,o,r="";if(!i[e]){t=new RegExp(e+"=([^;]+)");try{r=n.getCookie(this)}catch(e){}o=t.exec(r),o&&(i[e]=o[1])}return i[e]},setCookie:function(e,t,n,o,r){var i=e+"="+t;o&&(i+="; domain="+o),r&&(i+="; path="+r),n&&(i+="; expires="+n),document.cookie=i},extend:function(e){for(var t,n=Array.prototype.slice.call(arguments,1),o=0,r=n.length;o<r;o++){t=n[o];for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])}return e},guid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})},send:function(t){if(t&&!e.config.disabled){var n=l.getSpmId();!t.spm&&n&&(t.spm=n),this.queue(t)}},query:{stringify:function(e){var t=[],n="";try{for(var o in e)if(e.hasOwnProperty(o)&&void 0!==e[o]){var r="";r="spm"==o?encodeURI(e[o]):encodeURIComponent(e[o]),t.push(o+"="+r)}t.length>0&&(n=t.join("&"))}catch(e){}return n},parse:function(e){var t,n=e.split("&"),o={};try{for(var r=0,i=n.length;r<i;r++)t=n[r].split("="),o[t[0]]=decodeURIComponent(t[1])}catch(e){}return o}},getSpmId:function(){return c.spmId?c.spmId:"function"==typeof n.getSpmId?n.getSpmId.call(this):0},on:function(e,t,n,o){e.addEventListener?e.addEventListener(t,o?function(){e.removeEventListener(t,n,!1),n()}:n,!1):e.attachEvent&&e.attachEvent("on"+t,function(){o&&e.detachEvent("on"+t,arguments.callee),n()})},getNick:function(){var t="";try{e.config.nick?t=e.config.nick:(t=this.getCookie("_nk_")||this.getCookie("lgc")||this.getCookie("_w_tb_nick")||this.getCookie("sn")||"",t=decodeURIComponent(t))}catch(e){}return t},setConfig:function(e){if(e&&"object"!=typeof e)throw"args of wpo.setConfig is not object";return e&&e.user&&"function"==typeof e.user.getUserInfo&&"weex"===this.env&&e.user.getUserInfo(function(e){try{e=JSON.parse(e)}catch(e){}l.extend(c,{nick:e.info&&e.info.nick})}),l.extend(c,e)},spm:function(e){return e&&this.setConfig({spmId:e}),this},dynamicConfig:function(e){var t=this.query.stringify(e);try{localStorage.setItem(this._key,t)}catch(n){this.setCookie(this._key,t,new Date(e.expTime))}this.setConfig({sample:parseInt(e.sample,10)}),this.ready()},ready:function(){var t=function(){e._ready=!0,f()};e.config.delayOfReady?setTimeout(function(){t()},e.config.delayOfReady):t()},queue:function(e){var t,n=this.requestQueue;if("jserror"===e.type){if(n.length&&(t=n[n.length-1],e.msg===t.msg))return void t.times++;e.times||(e.times=1)}n.push(e),this._ready&&("jserror"===e.type?f(!1):u())},dequeue:function(){return this.requestQueue.shift()},clear:function(){f(!0)}};return l.uid=o=l.guid(),l.config=l.setConfig(e.config),l.extend(e,l),t.__WPO=e,e}},function(e,t){e.exports=function(e){var t={};e.sampling=function(e,n){return 1==e?1:n?Math.floor(Math.random()*e):"number"==typeof t[e]?t[e]:(t[e]=Math.floor(Math.random()*e),t[e])}}},function(e,t){e.exports=function(e){var t,n,o,r,i,a=e._key,c=function(e){var t=document.createElement("script");return t.src=e,document.getElementsByTagName("script")[0].parentNode.appendChild(t),t},s=function(){i||(i=!0,d())},d=function(){var t="//retcode.alicdn.com/retcode/pro/config/"+e.getSpmId()+".js",n=c(t);n.onerror=function(){n.onerror=null,e.error("sys","dynamic config error",t,0),e.ready()}},u=function(){"complete"===document.readyState?s():document.addEventListener?document.addEventListener("DOMContentLoaded",function(){document.removeEventListener("DOMContentLoaded",arguments.callee,!1),s()},!1):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",arguments.callee),s())}),document.documentElement.doScroll&&void 0===window.frameElement&&function(){try{document.documentElement.doScroll("left")}catch(e){return void setTimeout(arguments.callee,0)}s()}(),e.on(window,"load",function(){s()},!0))};if(!a)return 2;try{t=localStorage.getItem(a)}catch(n){t=e.getCookie(a)}return t?(n=e.query.parse(t),selfUpdate=function(){var t=e.ver&&e.ver.split("."),o=n.ver&&n.ver.split(".");if(!t||!o)return!1;for(var r=0,i=t.length;r<i;r++)if(o[r]&&parseInt(t[r],10)<parseInt(o[r],10))return!0;return!1},selfUpdate()?(r="//g.alicdn.com/retcode/log/"+n.ver+"/log.js",o=c(r),o.onload=function(){o.onload=null,e.reloaded()},o.onerror=function(){o.onerror=null,e.error("sys","self update error",r,0),e.reloadFailed()},0):parseInt(n.exp,10)<(new Date).getTime()?(u(),1):(e.setConfig({sample:parseInt(n.sample,10)}),2)):(u(),1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(0),n(1)},function(e,t,n){"use strict";var o=function(){return+new Date+Math.floor(1e3*Math.random())},r="",i=function(){var e=document.getElementsByTagName("meta"),t=[],n="";if(r)return r;for(var o=0;o<e.length;o++){var i=e[o];i&&i.name&&("data-spm"==i.name||"spm-id"==i.name)&&(n=i.content)}return n&&t.push(n),document.body&&document.body.getAttribute("data-spm")&&t.push(document.body.getAttribute("data-spm")),t=t.length?t.join("."):0,t&&-1!==t.indexOf(".")&&(r=t),r};i.bind||(i.bind=function(){return i}),e.exports={sendRequest:function(e){var t=e,n=t.match(/\?/g)||[];if(n.length>0)if(1===n.length){var r=t.split("?"),i=r[0],a=r[1];t=i+"?f=b&"+a+"&sdkType=dingRetcodeSdk"}else t+="&sdkType=dingRetcodeSdk";else t+="?sdkType=dingRetcodeSdk";var c=window,s="jsFeImage_"+o(),d=c[s]=new Image;d.onload=d.onerror=function(){c[s]=null},d.src=t,d=null},getCookie:function(){return document.cookie},getSpmId:i}},function(e,t,n){"use strict";(function(e){var t=n(9),o=e.__WPO||{},r=2;if(!o.__hasInitBlSdk){o.env="browser",n(5)(o,e,t);var i=function(){n(6)(o),n(3)(o),n(4)(o,e,t),o.__hasInitBlSdk=!0};if(o.config.dynamic&&!(r=n(7)(o)))return void n(2)(o,function(){i(),o.reloaded&&o.reloaded()});2==r&&("complete"===document.readyState?o.ready():o.on(e,"load",function(){o.ready()},!0)),i()}})(window),e.exports=window.__WPO}]);